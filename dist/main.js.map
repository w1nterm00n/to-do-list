{"version":3,"file":"main.js","mappings":"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","sources":["webpack://to-do-list/./src/modules/sharedData.js","webpack://to-do-list/./src/modules/projects.js","webpack://to-do-list/./src/modules/script.js","webpack://to-do-list/./src/modules/purposes.js","webpack://to-do-list/./src/modules/DOMCreation.js"],"sourcesContent":["export const sharedData = {\n\tprojects: [],\n};\n","import { sharedData } from \"./sharedData.js\";\n\nconst projectCreation = function () {\n\tlet addProjectBtn = document.querySelector(\".addProjectBtn\");\n\taddProjectBtn.addEventListener(\"click\", function () {\n\t\tformManipulation.showForm();\n\t});\n\n\tlet form = document.getElementById(\"projectForm\");\n\tform.addEventListener(\"submit\", (event) => {\n\t\tevent.preventDefault();\n\t\tformManipulation.submitForm(form);\n\t});\n\n\tlet closeBtn = document.querySelector(\".closeProjectBtn\");\n\tcloseBtn.addEventListener(\"click\", function () {\n\t\tformManipulation.hideForm();\n\t});\n\n\t//form manipulations start\n\tlet formManipulation = {\n\t\tformWrapper: document.querySelector(\".pop-up_project_window\"),\n\t\tshowForm() {\n\t\t\tthis.formWrapper.style.display = \"flex\";\n\t\t},\n\t\thideForm() {\n\t\t\tthis.formWrapper.style.display = \"none\";\n\t\t},\n\t\tsubmitForm(form) {\n\t\t\tlet valueFromForm = this.serializeForm(form);\n\t\t\tthis.hideForm();\n\t\t\tprojectManipulation.createProject(valueFromForm);\n\t\t},\n\t\tserializeForm(formNode) {\n\t\t\t//обрабатывает значения полей и возвращает массив с значениями\n\t\t\tconst { elements } = formNode;\n\t\t\tlet formValues = Array.from(elements)\n\t\t\t\t.filter((item) => !!item.name)\n\t\t\t\t.map(function (element) {\n\t\t\t\t\tconst { name, value } = element;\n\t\t\t\t\treturn { name, value };\n\t\t\t\t});\n\t\t\treturn formValues;\n\t\t},\n\t};\n\t//form manipulations end\n\n\tclass Project {\n\t\tconstructor(name) {\n\t\t\tthis.name = name;\n\t\t\tthis.isActive = false;\n\t\t\tthis.purposes = []; // массив для хранения целей проекта\n\t\t\tsharedData.projects.push(this);\n\t\t}\n\t}\n\n\tlet projectManipulation = {\n\t\tcreateProject(valueFromForm) {\n\t\t\tlet project = new Project(valueFromForm[0].value);\n\t\t\tlet DOMproject = projectDOMCreation(project);\n\t\t\tlet deleteBtn = DOMproject.querySelector(\".trash\");\n\t\t\tdeleteBtn.addEventListener(\"click\", function () {\n\t\t\t\tprojectManipulation.deleteProject(project, DOMproject);\n\t\t\t});\n\t\t},\n\t\tdeleteProject(project, DOMproject) {\n\t\t\tfor (let i = 0; i < sharedData.projects.length; i++) {\n\t\t\t\tif (sharedData.projects[i] == project) {\n\t\t\t\t\tsharedData.projects.splice(i, 1); //удаляю проект и его содержимое из массива\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet parentNode = document.querySelector(\".projects_list\");\n\t\t\tparentNode.removeChild(DOMproject); //удаление ДОМ-элемента с проектом\n\t\t\tprojectName.textContent = \"deleted project\";\n\t\t\t//удаляются нодлисты его целей :\n\t\t\tlet mainSide = document.querySelector(\".main_side\");\n\t\t\tlet purposesNodelist = mainSide.querySelectorAll(\".to-do-line\");\n\t\t\tpurposesNodelist.forEach((purposeNode) => {\n\t\t\t\tif (purposeNode.style.display === \"block\")\n\t\t\t\t\tmainSide.removeChild(purposeNode);\n\t\t\t});\n\t\t},\n\t};\n\n\tlet projectDOMCreation = function (project) {\n\t\tlet container = document.querySelector(\".projects_list\");\n\t\tlet projectList = document.createElement(\"div\");\n\t\tprojectList.classList.add(\"project_list\");\n\t\tcontainer.appendChild(projectList);\n\n\t\tlet toggle = document.createElement(\"button\");\n\t\ttoggle.classList.add(\"toggle\");\n\t\tprojectList.appendChild(toggle);\n\t\tlet toggleImg = document.createElement(\"img\");\n\t\ttoggleImg.classList.add(\"toggle_img\");\n\t\ttoggleImg.setAttribute(\"src\", \"pics/toggle_off.svg\");\n\t\t//делаю чтобы только один проект одновременно был активный\n\t\ttoggle.addEventListener(\"click\", function () {\n\t\t\tif (\n\t\t\t\ttoggleManiplation.isToggleOpen === false &&\n\t\t\t\tproject.isActive === false\n\t\t\t) {\n\t\t\t\ttoggleManiplation.openToggle(toggleImg, projectList, project);\n\t\t\t} else if (\n\t\t\t\ttoggleManiplation.isToggleOpen === true &&\n\t\t\t\tproject.isActive === true\n\t\t\t) {\n\t\t\t\ttoggleManiplation.closeToggle(toggleImg, projectList, project);\n\t\t\t} else if (\n\t\t\t\ttoggleManiplation.isToggleOpen === true &&\n\t\t\t\tproject.isActive === false\n\t\t\t) {\n\t\t\t\tfor (let i = 0; i < sharedData.projects.length; i++) {\n\t\t\t\t\tif (sharedData.projects[i].isActive === true) {\n\t\t\t\t\t\tsharedData.projects[i].isActive = false;\n\n\t\t\t\t\t\tlet projectList = container.querySelectorAll(\".project_list\");\n\t\t\t\t\t\tlet toggleImages = container.querySelectorAll(\".toggle_img\");\n\t\t\t\t\t\tprojectList.forEach((projectList) => {\n\t\t\t\t\t\t\tprojectList.style.background = \"rgba(172, 196, 204, 1)\";\n\t\t\t\t\t\t\tprojectList.style.border = \"none\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\ttoggleImages.forEach((image) => {\n\t\t\t\t\t\t\timage.setAttribute(\"src\", \"pics/toggle_off.svg\");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ttoggleManiplation.openToggle(toggleImg, projectList, project);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t//делаю чтобы только один проект одновременно был активный\n\t\ttoggle.appendChild(toggleImg);\n\n\t\tlet projectName = document.createElement(\"p\");\n\t\tprojectName.textContent = project.name;\n\t\tprojectList.appendChild(projectName);\n\n\t\tlet trash = document.createElement(\"button\");\n\t\ttrash.classList.add(\"trash\");\n\t\tprojectList.appendChild(trash);\n\t\tlet trashImg = document.createElement(\"img\");\n\t\ttrashImg.setAttribute(\"src\", \"pics/trash.svg\");\n\t\ttrash.appendChild(trashImg);\n\t\treturn projectList;\n\t};\n\n\tlet toggleManiplation = {\n\t\tisToggleOpen: false,\n\t\topenToggle(toggleImg, projectList, project) {\n\t\t\tthis.isToggleOpen = true;\n\t\t\ttoggleImg.setAttribute(\"src\", \"pics/toggle_on.svg\");\n\t\t\tprojectList.style.background = \"#B49463\";\n\t\t\tprojectList.style.border = \"1px solid black\";\n\t\t\tmainSideManipulation.setProjectName(project.name);\n\t\t\tproject.isActive = true;\n\t\t\tmainSideManipulation.purposeDisplaying(project);\n\t\t},\n\t\tcloseToggle(toggleImg, projectList, project) {\n\t\t\tthis.isToggleOpen = false;\n\t\t\ttoggleImg.setAttribute(\"src\", \"pics/toggle_off.svg\");\n\t\t\tprojectList.style.background = \"rgba(172, 196, 204, 1)\";\n\t\t\tprojectList.style.border = \"none\";\n\t\t\tproject.isActive = false;\n\t\t},\n\t};\n\n\tlet mainSideManipulation = {\n\t\tprojectName: document.getElementById(\"projectName\"),\n\t\tmainSide: document.querySelector(\".main_side\"),\n\n\t\tpurposeDisplaying(project) {\n\t\t\tlet purposeNodelist = this.mainSide.querySelectorAll(\".to-do-line\");\n\t\t\tpurposeNodelist.forEach((purpose) => {\n\t\t\t\tlet title = purpose.querySelector(\"#title_text\");\n\t\t\t\tif (project.purposes.length === 0) {\n\t\t\t\t\t//when the project is empty, no purposes displaying\n\t\t\t\t\tpurpose.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < project.purposes.length; i++) {\n\t\t\t\t\tif (project.purposes[i].title === title.textContent) {\n\t\t\t\t\t\t//if purpose with this title exist in this project\n\t\t\t\t\t\tpurpose.style.display = \"block\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpurpose.style.display = \"none\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsetProjectName(newProjectName) {\n\t\t\tthis.projectName.textContent = newProjectName;\n\t\t},\n\t};\n};\n\nexport { projectCreation };\n","//создание проекта\n\nimport \"../styles/style.scss\";\nimport { projectCreation } from \"./projects.js\";\nprojectCreation();\nimport { purposesCreation } from \"./purposes.js\";\npurposesCreation();\n// import { DOMCreation } from \"./DOMCreation.js\";\n// DOMCreation();\n\nimport { sharedData } from \"./sharedData.js\";\nconsole.log(sharedData.projects);\n","import { sharedData } from \"./sharedData.js\";\nimport { purposeDOMCreation } from \"./DOMCreation.js\";\n\nconst purposesCreation = function () {\n\tlet addPurposeBtn = document.querySelector(\".addPurposeBtn\");\n\taddPurposeBtn.addEventListener(\"click\", function () {\n\t\tformManipulation.showForm();\n\t});\n\n\tlet form = document.getElementById(\"purposeForm\");\n\tform.addEventListener(\"submit\", function (event) {\n\t\tevent.preventDefault();\n\t\tlet valueFromForm = formManipulation.serializeForm(form);\n\t\tlet purpose = purposeCreation(valueFromForm);\n\t\tlet DOMpurpose = purposeDOMCreation(purpose);\n\t\tpurposeDelete(DOMpurpose, purpose);\n\t\tlet checkbox = DOMpurpose.querySelector(\"#todo-checkbox\");\n\t\tcheckbox.addEventListener(\"click\", function () {\n\t\t\tcheckboxManipulation(DOMpurpose, purpose);\n\t\t});\n\t\tformManipulation.hideForm();\n\t});\n\n\tlet closeBtn = document.querySelector(\".closePurposetBtn\");\n\tcloseBtn.addEventListener(\"click\", function () {\n\t\tformManipulation.hideForm();\n\t});\n\n\tlet formManipulation = {\n\t\tformWrapper: document.querySelector(\".pop-up_purpose_window\"),\n\t\tshowForm() {\n\t\t\tthis.formWrapper.style.display = \"flex\";\n\t\t},\n\t\thideForm() {\n\t\t\tthis.formWrapper.style.display = \"none\";\n\t\t},\n\t\tserializeForm(formNode) {\n\t\t\tconst { elements } = formNode;\n\t\t\tlet formValues = Array.from(elements)\n\t\t\t\t.filter((item) => !!item.name)\n\t\t\t\t.map(function (element) {\n\t\t\t\t\tconst { name, value } = element;\n\t\t\t\t\treturn { name, value };\n\t\t\t\t});\n\t\t\treturn formValues;\n\t\t},\n\t};\n\n\tlet purposeCreation = function (arr) {\n\t\tlet purpose = {\n\t\t\tisDone: false,\n\t\t};\n\t\tpurpose.title = arr[0].value;\n\t\tpurpose.deadline = arr[1].value;\n\t\tpurpose.details = arr[2].value;\n\t\tpurpose.priority = arr[3].value;\n\t\tfor (let i = 0; i < sharedData.projects.length; i++) {\n\t\t\tif (sharedData.projects[i].isActive == true) {\n\t\t\t\tsharedData.projects[i].purposes.push(purpose);\n\t\t\t}\n\t\t}\n\t\treturn purpose;\n\t};\n\n\t//чтобы при нажатии на чекбокс цели текст становился серым\n\tlet checkboxManipulation = function (DOMpurpose, purpose) {\n\t\tlet titleText = DOMpurpose.querySelector(\"#title_text\");\n\t\tif (purpose.isDone === false) {\n\t\t\ttitleText.style.color = \"grey\";\n\t\t\ttitleText.style.textDecoration = \"line-through\";\n\t\t\tpurpose.isDone = true;\n\t\t} else {\n\t\t\tpurpose.isDone = false;\n\t\t\ttitleText.style.color = \"black\";\n\t\t\ttitleText.style.textDecoration = \"none\";\n\t\t}\n\t\tconsole.log(purpose);\n\t};\n\n\tlet purposeDelete = function (DOMpurpose, purpose) {\n\t\t//DOMpurpose - это ДОМ элемент этой цели\n\t\t//purpose - это объект с целью\n\t\tlet mainSide = document.querySelector(\".main_side\");\n\t\tlet deleteBtn = DOMpurpose.querySelector(\".trash\");\n\t\tdeleteBtn.addEventListener(\"click\", function () {\n\t\t\tmainSide.removeChild(DOMpurpose); //удаляю ДОМ-узел цели\n\t\t\tfor (let i = 0; i < sharedData.projects.length; i++) {\n\t\t\t\tif (sharedData.projects[i].isActive == true) {\n\t\t\t\t\tlet index = sharedData.projects[i].purposes.indexOf(purpose);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tsharedData.projects[i].purposes.splice(index, 1); //удаляю цель из массива\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(sharedData.projects);\n\t\t});\n\t};\n};\nexport { purposesCreation };\n","let purposeDOMCreation = function (purpose) {\n\tlet mainSide = document.querySelector(\".main_side\");\n\tconst toDoLine = document.querySelector(\".to-do-line-closed\");\n\tconst newGoal = toDoLine.cloneNode(true);\n\tnewGoal.style.display = \"block\";\n\tmainSide.appendChild(newGoal);\n\n\tlet title = newGoal.querySelector(\"#title_text\");\n\ttitle.textContent = purpose.title;\n\tlet deadline = newGoal.querySelector(\".deadline\");\n\tdeadline.textContent = purpose.deadline;\n\tlet toggle = newGoal.querySelector(\".toggle\");\n\n\tlet isFull = false;\n\ttoggle.addEventListener(\"click\", function () {\n\t\tif (isFull === false) {\n\t\t\tshowFull();\n\t\t\tisFull = true;\n\t\t} else {\n\t\t\thideFull();\n\t\t\tisFull = false;\n\t\t}\n\t});\n\n\t//DESCRIPTION AND PRIORITY CREATION START\n\tlet fullPart = document.createElement(\"div\");\n\tfullPart.className = \"description_and_priority_part\";\n\tnewGoal.appendChild(fullPart);\n\tlet descriptionSide = document.createElement(\"div\");\n\tdescriptionSide.className = \"description_side\";\n\tfullPart.appendChild(descriptionSide);\n\tlet descriptionText = document.createElement(\"p\");\n\tdescriptionText.textContent = \"Description:\";\n\tdescriptionSide.appendChild(descriptionText);\n\n\tlet description = document.createElement(\"p\");\n\tdescription.textContent = purpose.details;\n\tdescriptionSide.appendChild(description);\n\n\tlet prioritySide = document.createElement(\"div\");\n\tprioritySide.className = \"priority_side\";\n\tfullPart.appendChild(prioritySide);\n\tlet priorityText = document.createElement(\"p\");\n\tpriorityText.textContent = \"Priority:\";\n\tprioritySide.appendChild(priorityText);\n\n\tlet priority = document.createElement(\"p\");\n\tpriority.textContent = purpose.priority;\n\tprioritySide.appendChild(priority);\n\tlet toggleImg = toggle.querySelector(\"#toggleImg\");\n\thideFull();\n\t//DESCRIPTION AND PRIORITY CREATION END\n\n\tfunction showFull() {\n\t\tfullPart.style.display = \"block\";\n\t\ttoggleImg.setAttribute(\"src\", \"pics/toggle_on.svg\");\n\t}\n\tfunction hideFull() {\n\t\tfullPart.style.display = \"none\";\n\t\ttoggleImg.setAttribute(\"src\", \"pics/toggle_off.svg\");\n\t}\n\treturn newGoal;\n};\n\n//добавить сюда ДОМ создание проекта\n\nexport { purposeDOMCreation };\n"],"names":["sharedData","projects","document","querySelector","addEventListener","formManipulation","showForm","form","getElementById","event","preventDefault","submitForm","hideForm","formWrapper","this","style","display","valueFromForm","serializeForm","projectManipulation","createProject","formNode","elements","Array","from","filter","item","name","map","element","value","Project","constructor","isActive","purposes","push","project","DOMproject","projectDOMCreation","deleteProject","i","length","splice","removeChild","projectName","textContent","mainSide","querySelectorAll","forEach","purposeNode","container","projectList","createElement","classList","add","appendChild","toggle","toggleImg","setAttribute","toggleManiplation","isToggleOpen","openToggle","closeToggle","toggleImages","background","border","image","trash","trashImg","mainSideManipulation","setProjectName","purposeDisplaying","purpose","title","newProjectName","projectCreation","purposeCreation","DOMpurpose","newGoal","cloneNode","deadline","isFull","fullPart","hideFull","className","descriptionSide","descriptionText","description","details","prioritySide","priorityText","priority","purposeDOMCreation","purposeDelete","checkboxManipulation","arr","isDone","titleText","color","textDecoration","console","log","index","indexOf","purposesCreation"],"sourceRoot":""}