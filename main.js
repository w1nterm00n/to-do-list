/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";const e={projects:[]};!function(){document.querySelector(".addProjectBtn").addEventListener("click",(function(){o.showForm()}));let t=document.getElementById("projectForm");t.addEventListener("submit",(e=>{e.preventDefault(),o.submitForm(t)})),document.querySelector(".closeProjectBtn").addEventListener("click",(function(){o.hideForm()}));let o={formWrapper:document.querySelector(".pop-up_project_window"),showForm(){this.formWrapper.style.display="flex"},hideForm(){this.formWrapper.style.display="none"},submitForm(e){let t=this.serializeForm(e);this.hideForm();let o=new n(t[0].value);r(o)},serializeForm(e){const{elements:t}=e;return Array.from(t).filter((e=>!!e.name)).map((function(e){const{name:t,value:o}=e;return{name:t,value:o}}))}};class n{constructor(t){this.name=t,this.isActive=!1,this.purposes=[],e.projects.push(this)}}let r=function(t){let o=document.querySelector(".projects_list"),n=document.createElement("div");n.classList.add("project_list"),o.appendChild(n);let r=document.createElement("button");r.classList.add("toggle"),n.appendChild(r);let i=document.createElement("img");i.classList.add("toggle_img"),i.setAttribute("src","pics/toggle_off.svg"),r.addEventListener("click",(function(){if(!1===l.isToggleOpen&&!1===t.isActive)l.openToggle(i,n,t);else if(!0===l.isToggleOpen&&!0===t.isActive)l.closeToggle(i,n,t);else if(!0===l.isToggleOpen&&!1===t.isActive)for(let r=0;r<e.projects.length;r++){if(!0===e.projects[r].isActive){e.projects[r].isActive=!1;let t=o.querySelectorAll(".project_list"),n=o.querySelectorAll(".toggle_img");t.forEach((e=>{e.style.background="rgba(172, 196, 204, 1)",e.style.border="none"})),n.forEach((e=>{e.setAttribute("src","pics/toggle_off.svg")}))}l.openToggle(i,n,t)}})),r.appendChild(i);let s=document.createElement("p");s.textContent=t.name,n.appendChild(s);let c=document.createElement("button");c.classList.add("trash"),n.appendChild(c);let d=document.createElement("img");d.setAttribute("src","pics/trash.svg"),c.appendChild(d)},l={isToggleOpen:!1,openToggle(e,t,o){this.isToggleOpen=!0,e.setAttribute("src","pics/toggle_on.svg"),t.style.background="#B49463",t.style.border="1px solid black",i.setProjectName(o.name),o.isActive=!0},closeToggle(e,t,o){this.isToggleOpen=!1,e.setAttribute("src","pics/toggle_off.svg"),t.style.background="rgba(172, 196, 204, 1)",t.style.border="none",o.isActive=!1}},i={projectName:document.getElementById("projectName"),setProjectName(e){this.projectName.textContent=e}}}(),function(){document.querySelector(".addPurposeBtn").addEventListener("click",(function(){o.showForm()}));let t=document.getElementById("purposeForm");t.addEventListener("submit",(function(e){e.preventDefault();let r=o.serializeForm(t);(function(e){let t=document.querySelector(".main_side");const o=document.querySelector(".to-do-line-closed").cloneNode(!0);o.style.display="block",t.appendChild(o),o.querySelector("#title_text").textContent=e.title,o.querySelector(".deadline").textContent=e.deadline;let n=o.querySelector(".toggle"),r=!1;n.addEventListener("click",(function(){!1===r?(l.style.display="block",u.setAttribute("src","pics/toggle_on.svg"),r=!0):(m(),r=!1)}));let l=document.createElement("div");l.className="description_and_priority_part",o.appendChild(l);let i=document.createElement("div");i.className="description_side",l.appendChild(i);let s=document.createElement("p");s.textContent="Description:",i.appendChild(s);let c=document.createElement("p");c.textContent=e.details,i.appendChild(c);let d=document.createElement("div");d.className="priority_side",l.appendChild(d);let p=document.createElement("p");p.textContent="Priority:",d.appendChild(p);let a=document.createElement("p");a.textContent=e.priority,d.appendChild(a);let u=n.querySelector("#toggleImg");function m(){l.style.display="none",u.setAttribute("src","pics/toggle_off.svg")}m()})(n(r)),o.hideForm()})),document.querySelector(".closePurposetBtn").addEventListener("click",(function(){o.hideForm()}));let o={formWrapper:document.querySelector(".pop-up_purpose_window"),showForm(){this.formWrapper.style.display="flex"},hideForm(){this.formWrapper.style.display="none"},serializeForm(e){const{elements:t}=e;return Array.from(t).filter((e=>!!e.name)).map((function(e){const{name:t,value:o}=e;return{name:t,value:o}}))}},n=function(t){let o={isDone:!1};o.title=t[0].value,o.deadline=t[1].value,o.details=t[2].value,o.priority=t[3].value;for(let t=0;t<e.projects.length;t++)1==e.projects[t].isActive&&(e.projects[t].purposes.push(o),console.log(e.projects));return o}}(),console.log(e.projects)})();
//# sourceMappingURL=main.js.map